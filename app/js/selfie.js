var video=document.getElementById("video"),canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),snap=document.getElementById("snap"),overlay=document.querySelector(".overlay"),modal=document.querySelector(".modal__box"),modalImage=document.querySelector(".modal__image"),closeModal=document.querySelector(".close__modal");video.style.width=document.width+"px",video.style.height=document.height+"px",video.setAttribute("autoplay",""),video.setAttribute("muted",""),video.setAttribute("playsinline","");var constraints={audio:!1,video:{facingMode:"user"}};navigator.mediaDevices.getUserMedia(constraints).then(function(e){video.srcObject=e}),snap.addEventListener("click",function(){context.drawImage(video,0,0,640,480);var e=canvas.toDataURL("image/jpeg");context.setTransform(1,0,0,1,0,0);var t=new Image,a=[];t.src=e,a.push(t.src);for(var o=0;o<a.length;o++){var c=document.createElement("span");c.className="item__image";var n=document.createElement("span");n.className="remove__image";var i=document.createElement("a");i.className="href__image",i.innerText="Download",i.setAttribute("Download","Download"),i.href=a[o];var s=document.createElement("img");s.className="snap__photo",s.src=a[o],document.querySelector(".images__container").appendChild(c),document.querySelectorAll(".item__image").forEach(function(e){e.appendChild(s),e.appendChild(i),e.appendChild(n)})}document.querySelectorAll(".item__image").forEach(function(e){e.firstElementChild.addEventListener("click",function(){modalImage.src=this.src,overlay.classList.add("active"),modal.classList.add("active"),closeModal.classList.add("active")})}),document.querySelectorAll(".remove__image").forEach(function(e){e.addEventListener("click",function(){this.parentElement.style.display="none"})}),overlay.addEventListener("click",function(){overlay.classList.remove("active"),modal.classList.remove("active"),closeModal.classList.remove("active")}),closeModal.addEventListener("click",function(){overlay.classList.remove("active"),modal.classList.remove("active"),closeModal.classList.remove("active")})});