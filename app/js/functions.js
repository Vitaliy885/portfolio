var video=document.getElementById("video"),canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),snap=document.getElementById("snap");video.style.width=document.width+"px",video.style.height=document.height+"px",video.setAttribute("autoplay",""),video.setAttribute("muted",""),video.setAttribute("playsinline","");var constraints={audio:!1,video:{facingMode:"user"}};navigator.mediaDevices.getUserMedia(constraints).then(function(e){video.srcObject=e}),snap.addEventListener("click",function(){context.drawImage(video,0,0,640,480);var e=canvas.toDataURL("image/png");context.setTransform(1,0,0,1,0,0);var t=new Image;t.src=e,console.log(t)});